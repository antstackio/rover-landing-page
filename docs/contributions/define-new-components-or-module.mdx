# Define New Components or Module


Rover has few predefined modules and components , so if you want to add new modules or components follow the below steps.


All modules and components are defined in   [rover-engine](https://github.com/antstackio/rover-engine) package, 
In packages there is directory called resources and within resources there is file called modules.ts,
and most of the modules are stored in modules.json file and its stored in this format.

#### Component Structure
**Component Name** : name of the component that you want 
* **name** 
1. type: string 
2. value: any string without numbers or special characters
3. description: Resource name that you want in your template
* **type** : 
1. type : string 
2. value: [List of resources](add-new-aws-service.mdx) suppoted by Rover
3. description:  type of resources from list that are supported in rover
* **config** : 
1. type : Object 
2. value: Key and value of the Properties of the resource that you have selected, where key will be property name and Value will be the property value
3. description :  Configurations are the properties that are in cloudformation template of that resource

* **logic** : 
1. type : Boolean 
2. value : if logic defined then "true" else "false"
3. description :  Logics are boolean value specific to lambda, we have to add logic to LambdaLogics in `rover-engine/resources/logics.ts` with proper naming.


```JSON
"Component Name":[
      {
        "name":"resource name",
        "type":"resource type ",
        "config":required configuration,
        "logic":whether logic is required or not 
    },
    .
    .
    .
],
                
},
```
#### Component Example
```JSON
"s3_lambda": [
    {
      "name": "lambdas",
      "type": "lambda",
      "config": {
        "Policies": [
          "AWSLambdaDynamoDBExecutionRole"
        ]
      },
      "logic": true
    },
    {
      "name": "Bucket",
      "type": "s3bucket",
      "config": {
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ]
            }
          ]
        }
      }
    }
  ]
```

#### Module Structure
**Module Name** : Name of the module that you want , and this can have any number of stack name and its details in key-value format in it.

**Stack Name** : Name of the stack that you want , and this will have resource list which is array of resources.

**Resource List** : List of resources in [component](define-new-components-or-module#component-structure) format
```JSON
"Module Name":{
    "Stack1 name":{
        "Resource List":[
            {
                "name":"resource name",
                "type":"resource type ",
                "config":required configuration,
                "policies":required policies,
                "logic":whether logic is refined #only for lambda
            },
            .
            .
            {}
            
        ]
    }
    .
    .
    {}
},
```
#### Module Example
```JSON
 "BaseModule": {
    "lone": {
      "resources": [
        {
          "name": "lamone",
          "type": "lambda",
          "config": {},
          "policies": {},
          "logic": false
        },
        {
          "name": "lamtwo",
          "type": "lambda",
          "config": {},
          "policies": {},
          "logic": false
        }
      ]
    },
    "ltwo": {
      "resources": [
        {
          "name": "lamthree",
          "type": "lambda",
          "config": {},
          "policies": {},
          "logic": false
        },
        {
          "name": "lamfour",
          "type": "lambda",
          "config": {},
          "policies": {},
          "logic": false
        }
      ]
    }
  }
```
### To add a module/component  and test

1. Both modules and components are defined in [rover-engine](https://github.com/antstackio/rover-engine)

 * Modules - rover-engine/resources/module.json or rover-engine/resources/module.ts

 ![Modules](../.././assets/modules.png)

 * Components - rover-engine/resources/components.ts

 ![Components](../.././assets/component.png)


2. Define  your module/component in respective files as in step 1

3. Follow [Rover Set Up](rover-set-up.mdx) , step 4 to install locally

4. Test your module/component  by running `rover init`.